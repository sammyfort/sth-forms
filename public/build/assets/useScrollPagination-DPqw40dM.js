import{r as t,f as d,L as f,W as w}from"./app-c5OGnRl8.js";function p({initialData:a,nextPageUrl:u,extractResponseData:i,preserveKeys:c=[]}){const o=t(a),e=t(!1),n=t(u),r=()=>{e.value||!n.value||window.innerHeight+window.scrollY>=document.body.offsetHeight-100&&s()},s=()=>{w.get(n.value,{},{preserveState:!0,preserveScroll:!0,preserveUrl:!0,only:c,onStart:()=>e.value=!0,onFinish:()=>e.value=!1,onSuccess:v=>{const l=i(v);o.value=[...o.value,...l.data],n.value=l.next_page_url}})};return d(()=>{window.addEventListener("scroll",r)}),f(()=>{window.removeEventListener("scroll",r)}),{items:o,loading:e,nextPage:n,fetchMore:s}}export{p as u};
