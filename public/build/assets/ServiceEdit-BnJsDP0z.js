import{d as x,r as u,x as w,f as S,q as p,c as k,o as c,a as s,u as r,g as U,w as n,b as a,j as q,i as $,F as B}from"./app-CO7tRMPa.js";import{t as E,a as N}from"./helpers-qni1jYST.js";import{_ as V}from"./Layout.vue_vue_type_script_setup_true_lang-DCs0JVu0.js";import{_ as R}from"./PageHeader.vue_vue_type_script_setup_true_lang-DHokSiwN.js";import{_ as F}from"./FormComponent.vue_vue_type_script_setup_true_lang-DCnyKwIV.js";import{_ as g}from"./InputSelect.vue_vue_type_script_setup_true_lang-C5DndcLU.js";import{_ as l}from"./InputText.vue_vue_type_script_setup_true_lang-IUH4eXc3.js";import{_ as A}from"./FeatureFileUpload.vue_vue_type_script_setup_true_lang-Bv-zyP7Q.js";import{_ as C}from"./GalleryFilesUpload.vue_vue_type_script_setup_true_lang-Bi7Qv6Kw.js";import{_ as I}from"./TextEditor.vue_vue_type_script_setup_true_lang-ByG2lzr0.js";import{_ as M}from"./InputError.vue_vue_type_script_setup_true_lang-DKKlDoxn.js";import{B as O}from"./building-2-C02OaBJh.js";import"./index-B7bkwbD9.js";import"./index-CwPhLhxX.js";import"./utils-bRKmu4jq.js";import"./Primitive-Bt2Vqvy7.js";import"./index-dkW4UkYo.js";import"./createLucideIcon-DSnvKsHv.js";import"./x-D1YiTpkX.js";import"./check-DKQq6rvE.js";import"./Label.vue_vue_type_script_setup_true_lang-Qzvkm3M0.js";import"./Input.vue_vue_type_script_setup_true_lang-nOOGLbz_.js";import"./upload-j3A8EneV.js";import"./plus-B2eoExmG.js";const h={class:"w-full bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50"},j={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},T={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Y={class:"md:col-span-2"},ue=x({__name:"ServiceEdit",props:{categories:{},regions:{},service:{}},setup(_){const t=_,b=u(),y=u(),e=w({title:"",description:"",first_mobile:"",business_name:"",second_mobile:"",years_experience:"",video_link:"",email:"",address:"",town:"",gps:"",region_id:"",category_id:"",featured:null,gallery:[],removed_gallery_urls:[]});S(()=>{const o=t.service;e.title=o.title,e.description=o.description,e.first_mobile=o.first_mobile,e.second_mobile=o.second_mobile,e.business_name=o.business_name,e.video_link=o.video_link,e.years_experience=o.years_experience,e.email=o.email,e.address=o.address,e.town=o.town,e.gps=o.gps,e.region_id=o.region_id,e.category_id=o.category_id});const d=p(()=>t.service.gallery?Array.from(t.service.gallery).map((i,m)=>({url:i,isOriginal:!0,originalIndex:m})):[]),f=p(()=>Object.keys(e.errors).filter(o=>o.startsWith("gallery.")).map(o=>e.errors[o])),v=()=>{e.put(route("my-services.update",t.service.id),{onSuccess:o=>{o.props.success?E(o.props.message):N(o.props.message)}})};return(o,i)=>(c(),k(B,null,[s(r(U),{title:"Update Service"}),s(V,null,{default:n(()=>[a("div",h,[s(R,{title:"Edit Service",subtitle:"Update service listing for your business",icon:r(O)},null,8,["icon"]),s(F,{form:r(e),"featured-preview":t.service.featured,"gallery-items":d.value,"gallery-errors":f.value,"submit-text":"Update Service","processing-text":"Updating Service...",onSubmit:v},{"form-sections":n(()=>[a("div",j,[i[5]||(i[5]=a("h2",{class:"text-lg font-semibold text-gray-900 mb-6"},"Business Information",-1)),a("div",T,[s(g,{label:"Select Region",form:r(e),model:"region_id",options:t.regions,required:"",searchable:""},null,8,["form","options"]),s(l,{form:r(e),label:" Service Name/Title",model:"title",required:""},null,8,["form"]),s(l,{form:r(e),label:"Years of Experience",model:"years_experience",type:"number",required:""},null,8,["form"]),s(l,{form:r(e),label:"Town",model:"town",required:""},null,8,["form"]),s(l,{form:r(e),label:"Address",model:"address",required:""},null,8,["form"]),s(l,{form:r(e),label:"First Mobile No",type:"tel",model:"first_mobile",required:""},null,8,["form"]),s(l,{form:r(e),label:"Second Mobile No",type:"tel",model:"second_mobile"},null,8,["form"]),s(l,{form:r(e),label:"Email address",type:"email",model:"email",required:""},null,8,["form"]),s(l,{form:r(e),label:"Business Name",model:"business_name"},null,8,["form"]),s(l,{form:r(e),label:"GPS Address",model:"gps",required:""},null,8,["form"]),a("div",null,[s(l,{form:r(e),label:"Video Link",model:"video_link"},null,8,["form"]),i[3]||(i[3]=a("span",{class:"text-sm text-gray-500 font-small"}," Your video will only be shown to visitors if you have a running promotion",-1))]),s(g,{label:"Field Of Service",form:r(e),model:"category_id",options:t.categories,required:"",searchable:""},null,8,["form","options"]),a("div",Y,[i[4]||(i[4]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Service Description",-1)),s(I,{modelValue:r(e).description,"onUpdate:modelValue":i[0]||(i[0]=m=>r(e).description=m)},null,8,["modelValue"]),r(e).errors.description?(c(),q(M,{key:0,message:r(e).errors.description},null,8,["message"])):$("",!0)])])])]),"media-section":n(()=>[s(A,{ref_key:"featureUploadRef",ref:y,form:r(e),"featured-preview":t.service.featured,file:r(e).featured,"onUpdate:file":i[1]||(i[1]=m=>r(e).featured=m),"model-name":"featured"},null,8,["form","featured-preview","file"]),s(C,{ref_key:"galleryUploadRef",ref:b,form:r(e),files:r(e).gallery,"onUpdate:files":i[2]||(i[2]=m=>r(e).gallery=m),"gallery-errors":f.value,"gallery-items":d.value},null,8,["form","files","gallery-errors","gallery-items"])]),_:1},8,["form","featured-preview","gallery-items","gallery-errors"])])]),_:1})],64))}});export{ue as default};
