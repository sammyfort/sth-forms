import{d as $,x as w,E as D,c as m,o as c,F as g,b as a,a as o,u as s,w as p,C as f,D as _,e as x,W as F,f as V,g as N,i as P,h as b,j as q}from"./app-CO7tRMPa.js";import{_ as C}from"./Layout.vue_vue_type_script_setup_true_lang-DCs0JVu0.js";import{_ as M}from"./SignboardCardV1.vue_vue_type_script_setup_true_lang-Dxte2GO7.js";import{_ as z,b as B}from"./AdvertisedSignboardV.vue_vue_type_script_setup_true_lang-Dd9bwLcA.js";import{u as E,_ as v}from"./BackToTop.vue_vue_type_script_setup_true_lang-CBsihJKF.js";import{c as L}from"./helpers-qni1jYST.js";import{u as Q}from"./useScrollPagination-CrWIAHC6.js";import{_ as R}from"./ServiceCardV1Skeleton.vue_vue_type_script_setup_true_lang-CexKPFKe.js";import{_ as T}from"./InputText.vue_vue_type_script_setup_true_lang-IUH4eXc3.js";import{_ as k}from"./index-CwPhLhxX.js";import{_ as U,a as A,b as I,c as K}from"./SelectValue.vue_vue_type_script_setup_true_lang-DK-m_fvh.js";import{_ as W}from"./CountryRegionSelector.vue_vue_type_script_setup_true_lang-Cvcr6FOY.js";import{c as j}from"./createLucideIcon-DSnvKsHv.js";import{S as H}from"./star-D56ZLMuj.js";import"./x-D1YiTpkX.js";import"./Primitive-Bt2Vqvy7.js";import"./utils-bRKmu4jq.js";import"./index-B7bkwbD9.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-DiWZTfj_.js";import"./VisuallyHidden-CBHYpAbp.js";import"./VueStarRating.common-Dyzs1dME.js";import"./flag-DES0kRBo.js";import"./map-pin-BQFDbMQ2.js";import"./CarouselItem.vue_vue_type_script_setup_true_lang-DlSiQq5z.js";import"./api-xA2SNBYk.js";import"./CardContent.vue_vue_type_script_setup_true_lang-Bh7uQCop.js";import"./CardHeader.vue_vue_type_script_setup_true_lang--QquVHHL.js";import"./InputError.vue_vue_type_script_setup_true_lang-DKKlDoxn.js";import"./Label.vue_vue_type_script_setup_true_lang-Qzvkm3M0.js";import"./Input.vue_vue_type_script_setup_true_lang-nOOGLbz_.js";import"./index-dkW4UkYo.js";import"./check-DKQq6rvE.js";import"./chevron-down-CP7EbslU.js";import"./Collection-C2oo6YmM.js";import"./nullish-CtH4V8ap.js";import"./useDirection-CK_f4LQf.js";import"./useFormControl-CEHXTo-6.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=j("FactoryIcon",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]),Z={class:"grid grid-cols-2 gap-4"},G={class:"grid md:grid-cols-2 lg:grid-cols-1 col-span-2 md:col-span-1 lg:col-span-2 gap-3"},J=$({__name:"SignboardsFilter",props:{categories:{},regions:{}},setup(h){const t=w({q:"",categories:null,country:null,region:null}),{filteredQuery:d,runFilter:y}=E({form:t,routeName:"signboards.index",preserveKeys:["signboardsData"],buildQuery:r=>{var e;t.q&&r.filter("q",t.q),t.region&&r.filter("region",t.region.toString()),t.country&&r.filter("country",t.country.toString()),(e=t.categories)!=null&&e.length&&t.categories.forEach(i=>{r.filter("categories",i.toString())})}});return D(()=>{const r=new URLSearchParams(window.location.search),e=r.get("filter[q]"),i=r.get("filter[categories]"),n=r.get("filter[region]"),l=r.get("filter[country]");t.categories=i?i.split(",").map(u=>Number(u)):[],t.country=l?Number(l):null,t.region=n?Number(n):null,t.q=e||"",r.size>0&&(d.value="&"+r.toString())}),(r,e)=>{var i,n;return c(),m(g,null,[e[4]||(e[4]=a("div",{class:"mb-3 text-lg font-semibold"},"Filter",-1)),a("div",Z,[o(T,{placeholder:"Search signboard...","container-class":"gap-0 col-span-2 md:col-span-1 lg:col-span-2",type:"text",model:"q",form:s(t)},null,8,["form"]),o(s(U),{modelValue:s(t).categories,"onUpdate:modelValue":e[0]||(e[0]=l=>s(t).categories=l),"default-value":s(t).categories,multiple:!0},{default:p(()=>[o(s(A),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:p(()=>[o(s(I),{placeholder:"Signboard category"})]),_:1}),o(s(K),{options:r.categories.map(l=>({label:l.name,value:l.id}))},null,8,["options"])]),_:1},8,["modelValue","default-value"]),o(W,{form:s(t),"region-model":"region","country-model":"country"},null,8,["form"]),a("div",G,[f(o(s(k),{processing:s(t).processing,onClick:s(y)},{default:p(()=>e[2]||(e[2]=[x("Apply Filter ")])),_:1,__:[2]},8,["processing","onClick"]),[[_,s(t).country||s(t).region||((i=s(t).categories)==null?void 0:i.length)||((n=s(t).q)==null?void 0:n.length)]]),f(o(s(k),{variant:"secondary",onClick:e[1]||(e[1]=l=>s(F).visit(r.route("services.index")))},{default:p(()=>e[3]||(e[3]=[x("Reset ")])),_:1,__:[3]},512),[[_,s(d)]])])])],64)}}}),O={class:"w-full"},X={class:"relative grid grid-cols-5 w-full gap-15"},Y={class:"lg:block col-span-5 lg:col-span-1"},tt={class:"sticky top-40"},st={class:"col-span-5 lg:col-span-3 text-gray-900 antialiased"},et={class:"grid items-stretch gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3"},ot={class:"flex items-center gap-2 lg:text-2xl text-lg font-bold"},rt={key:0,class:"text-center mt-10 text-xl font-bold text-fade"},at={class:"hidden lg:block lg:col-span-1"},it={class:"sticky top-0"},nt={class:"mb-4 text-lg font-semibold text-fade flex gap-2 items-center"},Wt=$({__name:"Signboards",props:{signboardsData:{},categories:{},regions:{}},setup(h){const t=h,{items:d,loading:y,nextPage:r}=Q({initialData:t.signboardsData.data,nextPageUrl:t.signboardsData.next_page_url,extractResponseData:e=>e.props.signboardsData,preserveKeys:["signboardsData"]});return V(()=>{r.value=t.signboardsData.next_page_url,d.value=t.signboardsData.data}),(e,i)=>(c(),m(g,null,[o(s(N),{title:"Signboards"}),o(C,null,{default:p(()=>[a("div",O,[i[2]||(i[2]=a("div",{class:"w-full my-10 text-center"},[a("div",{class:"text-fade text-2xl font-semibold"},"Browse Signboards")],-1)),a("div",X,[a("div",Y,[a("div",tt,[o(J,{categories:e.categories,regions:e.regions},null,8,["categories","regions"])])]),a("div",st,[a("div",et,[(c(!0),m(g,null,b(s(L)(s(d),15),(n,l)=>(c(),m(g,{key:`chunk-${l}`},[(c(!0),m(g,null,b(n,u=>(c(),q(M,{key:u.id,signboard:u},null,8,["signboard"]))),128)),f(o(z,{"container-class":"md:col-span-3 lg:col-span-3 xl:col-span-4 sm:col-span-2 lg:hidden mt-4"},{default:p(()=>[a("div",ot,[o(s(S),{size:25,class:"text-primary"}),i[0]||(i[0]=a("span",null,"Top Signboards",-1)),o(s(H),{size:25,class:"text-primary"})])]),_:2},1536),[[_,n.length>14]])],64))),128)),(c(),m(g,null,b([1,2,3,4],n=>f(o(R,{key:n,class:"shadow-2xl"}),[[_,s(y)]])),64))]),s(d).length?P("",!0):(c(),m("div",rt," No results found, broaden your search... "))]),a("div",at,[a("div",it,[a("div",nt,[i[1]||(i[1]=x(" Top Signboards ")),o(s(S),{size:22,class:"text-primary"})]),o(B,{"items-class":"h-screen"})])])])]),o(v)]),_:1}),o(v)],64))}});export{Wt as default};
