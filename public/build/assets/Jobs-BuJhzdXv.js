import{d as C,x as J,E,c as d,o as c,F as p,b as m,a,u as o,w as r,h as y,C as D,D as V,e as k,W as U,t as S,f as q,g as Q,i as R,j as W}from"./app-RZYziCOX.js";import{_ as A}from"./Layout.vue_vue_type_script_setup_true_lang-JReT7ZgV.js";import{c as K}from"./helpers-C-wkIwPZ.js";import{_ as L}from"./JobCardV1.vue_vue_type_script_setup_true_lang-DDrQNpve.js";import{u as M}from"./useScrollPagination-BTafehj1.js";import{_ as T}from"./JobCardV1Skeleton.vue_vue_type_script_setup_true_lang-BbtlkGqH.js";import{_ as z}from"./InputText.vue_vue_type_script_setup_true_lang-oT6Ueyxw.js";import{_ as F}from"./Input.vue_vue_type_script_setup_true_lang-COHS9RD5.js";import{_ as x,a as h,b as j,c as $,d as N}from"./SelectValue.vue_vue_type_script_setup_true_lang-Bzqn9bpe.js";import{u as B,_ as I,a as G}from"./BackToTop.vue_vue_type_script_setup_true_lang-DNHLoDF9.js";import"./map-pin-Dtw6dkRN.js";import"./createLucideIcon-Cv9DwHDB.js";import"./CardContent.vue_vue_type_script_setup_true_lang-BDfyeX-T.js";import"./flag-DzfW-wg-.js";import"./briefcase-BaESzNkB.js";import"./clock-Dksdjs6S.js";import"./check-B8gZcSup.js";import"./Collection-DT0WZp4F.js";import"./nullish-CtH4V8ap.js";import"./useDirection-D5vCax4o.js";import"./useFormControl-B76IeULz.js";import"./VisuallyHidden-rbSvAVCX.js";import"./api-BKAo8y4X.js";const H={class:"grid grid-cols-2 gap-4"},O={class:"grid md:grid-cols-2 lg:grid-cols-1 col-span-2 md:col-span-1 lg:col-span-2 gap-3"},X=C({__name:"JobFilter",props:{categories:{},regions:{}},setup(P){const e=J({q:"",categories:null,region:null,country:null,work_mode:null,job_type:null}),f=["onsite","remote","hybrid"],w=["Full time","Part time","Contract","Internship"],{filteredQuery:v,runFilter:g}=B({form:e,routeName:"jobs.index",preserveKeys:["jobsData"],buildQuery:l=>{var t,u,n;e.q&&l.filter("q",e.q),e.region&&l.filter("region",e.region.toString()),e.country&&l.filter("country",e.country.toString()),(t=e.categories)!=null&&t.length&&e.categories.forEach(i=>{l.filter("categories",i.toString())}),(u=e.work_mode)!=null&&u.length&&e.work_mode.forEach(i=>{l.filter("work_mode",i.toString())}),(n=e.job_type)!=null&&n.length&&e.job_type.forEach(i=>{l.filter("job_type",i.toString())})}});return E(()=>{const l=new URLSearchParams(window.location.search),t=l.get("filter[q]"),u=l.get("filter[categories]"),n=l.get("filter[work_mode]"),i=l.get("filter[job_type]"),_=l.get("filter[region]"),s=l.get("filter[country]");e.categories=u?u.split(",").map(b=>Number(b)):[],e.work_mode=n?n.split(",").map(b=>b):[],e.job_type=i?i.split(",").map(b=>b):[],e.region=_?Number(_):null,e.country=s?Number(s):null,e.q=t||"",l.size>0&&(v.value="&"+l.toString())}),(l,t)=>{var u,n,i,_;return c(),d(p,null,[t[6]||(t[6]=m("div",{class:"mb-3 text-lg font-semibold"},"Filter",-1)),m("div",H,[a(z,{placeholder:"Search jobs...","container-class":"gap-0 col-span-2 md:col-span-1 lg:col-span-2",type:"text",model:"q",form:o(e)},null,8,["form"]),a(o(x),{modelValue:o(e).job_type,"onUpdate:modelValue":t[0]||(t[0]=s=>o(e).job_type=s),"default-value":o(e).job_type,multiple:!0},{default:r(()=>[a(o(h),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:r(()=>[a(o(j),{placeholder:"Type"})]),_:1}),a(o($),null,{default:r(()=>[(c(),d(p,null,y(w,s=>a(o(N),{key:s,value:s},{default:r(()=>[k(S(s),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue","default-value"]),a(o(x),{modelValue:o(e).work_mode,"onUpdate:modelValue":t[1]||(t[1]=s=>o(e).work_mode=s),"default-value":o(e).work_mode,multiple:!0},{default:r(()=>[a(o(h),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:r(()=>[a(o(j),{placeholder:"Work mode"})]),_:1}),a(o($),null,{default:r(()=>[(c(),d(p,null,y(f,s=>a(o(N),{key:s,value:s},{default:r(()=>[k(S(s),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue","default-value"]),a(o(x),{modelValue:o(e).categories,"onUpdate:modelValue":t[2]||(t[2]=s=>o(e).categories=s),"default-value":o(e).categories,multiple:!0},{default:r(()=>[a(o(h),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:r(()=>[a(o(j),{placeholder:"Job category"})]),_:1}),a(o($),{options:l.categories.map(s=>({label:s.name,value:s.id}))},null,8,["options"])]),_:1},8,["modelValue","default-value"]),a(I,{form:o(e),"region-model":"region","country-model":"country"},null,8,["form"]),m("div",O,[D(a(o(F),{onClick:o(g),processing:o(e).processing},{default:r(()=>t[4]||(t[4]=[k("Apply Filter")])),_:1,__:[4]},8,["onClick","processing"]),[[V,o(e).region||o(e).country||((u=o(e).categories)==null?void 0:u.length)||((n=o(e).q)==null?void 0:n.length)||((i=o(e).work_mode)==null?void 0:i.length)||((_=o(e).job_type)==null?void 0:_.length)]]),D(a(o(F),{variant:"secondary",onClick:t[3]||(t[3]=s=>o(U).visit(l.route("jobs.index")))},{default:r(()=>t[5]||(t[5]=[k("Reset ")])),_:1,__:[5]},512),[[V,o(v)]])])])],64)}}}),Y={class:"w-full"},Z={class:"relative grid grid-cols-4 max-w-[1400px] mx-auto gap-15"},ee={class:"lg:block col-span-4 lg:col-span-1"},oe={class:"sticky top-40"},te={class:"col-span-4 lg:col-span-3 text-gray-900 antialiased"},ae={class:"grid items-stretch gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3"},le={key:0,class:"text-center mt-10 text-xl font-bold text-fade max-w-xl"},Pe=C({__name:"Jobs",props:{jobsData:{},categories:{},regions:{}},setup(P){const e=P,{items:f,loading:w,nextPage:v}=M({initialData:e.jobsData.data,nextPageUrl:e.jobsData.next_page_url,extractResponseData:g=>g.props.jobsData,preserveKeys:["jobsData"]});return q(()=>{v.value=e.jobsData.next_page_url,f.value=e.jobsData.data}),(g,l)=>(c(),d(p,null,[a(o(Q),{title:"Jobs"}),a(A,null,{default:r(()=>[m("div",Y,[l[0]||(l[0]=m("div",{class:"w-full my-10 text-center"},[m("div",{class:"text-fade text-2xl font-semibold"},"Browse Jobs")],-1)),m("div",Z,[m("div",ee,[m("div",oe,[a(X,{categories:g.categories,regions:g.regions},null,8,["categories","regions"])])]),m("div",te,[m("div",ae,[(c(!0),d(p,null,y(o(K)(o(f),15),(t,u)=>(c(),d(p,{key:`chunk-${u}`},[(c(!0),d(p,null,y(t,n=>(c(),W(L,{key:`job-card-${n.id}`,job:n},null,8,["job"]))),128))],64))),128)),(c(),d(p,null,y([1,2,3,4],t=>D(a(T,{key:t,class:"shadow-2xl"}),[[V,o(w)]])),64))]),o(f).length?R("",!0):(c(),d("div",le," No results found, broaden your search... "))])])]),a(G)]),_:1})],64))}});export{Pe as default};
