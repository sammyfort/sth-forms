import{d as K,p as oe,r as k,q as w,j as E,o as v,w as h,k as I,G as ne,u as e,m as Pe,y as W,i as Q,H as De,f as G,I as de,a as y,c as A,F as B,h as N,x as Ee,E as $e,b as g,e as Y,t as X,C as te,D as ae,W as ce,n as Ve,g as qe}from"./app-CO7tRMPa.js";import{u as ke,_ as Ke}from"./Layout.vue_vue_type_script_setup_true_lang-DCs0JVu0.js";import{b as ie,c as Ae}from"./helpers-qni1jYST.js";import{u as Me,_ as Be}from"./BackToTop.vue_vue_type_script_setup_true_lang-CBsihJKF.js";import{_ as Re}from"./InputText.vue_vue_type_script_setup_true_lang-IUH4eXc3.js";import{_ as ue}from"./index-CwPhLhxX.js";import{e as pe,_ as Ie,a as ze,b as Te,c as Fe}from"./SelectValue.vue_vue_type_script_setup_true_lang-DK-m_fvh.js";import{c as me,a as Ne}from"./x-D1YiTpkX.js";import{u as He}from"./useDirection-CK_f4LQf.js";import{u as Oe}from"./useFormControl-CEHXTo-6.js";import{a as T,u as Le,P as J,c as Ue,r as Ye}from"./Primitive-Bt2Vqvy7.js";import{u as re}from"./Collection-C2oo6YmM.js";import{V as We}from"./VisuallyHiddenInput-cG5USFTR.js";import{c as fe}from"./utils-bRKmu4jq.js";import{_ as je}from"./CountryRegionSelector.vue_vue_type_script_setup_true_lang-Cvcr6FOY.js";import{a as ve,b as ge,_ as Xe,S as Qe}from"./AdvertisedProductsH.vue_vue_type_script_setup_true_lang-B6OboRS5.js";import{a as Ge,A as Je,_ as Ze,b as et}from"./CarouselItem.vue_vue_type_script_setup_true_lang-DlSiQq5z.js";import{g as tt}from"./api-xA2SNBYk.js";import"./createLucideIcon-DSnvKsHv.js";import"./index-B7bkwbD9.js";import"./InputError.vue_vue_type_script_setup_true_lang-DKKlDoxn.js";import"./Label.vue_vue_type_script_setup_true_lang-Qzvkm3M0.js";import"./Input.vue_vue_type_script_setup_true_lang-nOOGLbz_.js";import"./index-dkW4UkYo.js";import"./check-DKQq6rvE.js";import"./chevron-down-CP7EbslU.js";import"./nullish-CtH4V8ap.js";import"./VisuallyHidden-CBHYpAbp.js";import"./CardContent.vue_vue_type_script_setup_true_lang-Bh7uQCop.js";import"./VueStarRating.common-Dyzs1dME.js";import"./index-qwqbB3Hm.js";import"./eye-CXAzHJ-v.js";import"./flag-DES0kRBo.js";import"./map-pin-BQFDbMQ2.js";import"./locate-fixed-DyDrMnP-.js";function at(s=[],o,t){const r=[...s];return r[t]=o,r.sort((i,l)=>i-l)}function ye(s,o,t){const l=100/(t-o)*(s-o);return pe(l,0,100)}function ot(s,o){return o>2?`Value ${s+1} of ${o}`:o===2?["Minimum","Maximum"][s]:void 0}function nt(s,o){if(s.length===1)return 0;const t=s.map(i=>Math.abs(i-o)),r=Math.min(...t);return t.indexOf(r)}function rt(s,o,t){const r=s/2,l=le([0,50],[0,r]);return(r-l(o)*t)*t}function lt(s){return s.slice(0,-1).map((o,t)=>s[t+1]-o)}function st(s,o){if(o>0){const t=lt(s);return Math.min(...t)>=o}return!0}function le(s,o){return t=>{if(s[0]===s[1]||o[0]===o[1])return o[0];const r=(o[1]-o[0])/(s[1]-s[0]);return o[0]+r*(t-s[0])}}function it(s){return(String(s).split(".")[1]||"").length}function ut(s,o){const t=10**o;return Math.round(s*t)/t}const _e=["PageUp","PageDown"],he=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],be={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageUp","ArrowUp","ArrowLeft"]},[Se,we]=me(["SliderVertical","SliderHorizontal"]);var dt=K({__name:"SliderHorizontal",props:{dir:{type:String,required:!1},min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(s,{emit:o}){const t=s,r=o,{max:i,min:l,dir:a,inverted:n}=oe(t),{forwardRef:c,currentElement:u}=T(),f=H(),x=k(),$=k(),V=w(()=>(a==null?void 0:a.value)!=="rtl"&&!n.value||(a==null?void 0:a.value)!=="ltr"&&n.value);function _(p,d){const m=$.value||u.value.getBoundingClientRect(),D=[...f.thumbElements.value][f.valueIndexToChangeRef.value],R=f.thumbAlignment.value==="contain"?D.clientWidth:0;!x.value&&!d&&f.thumbAlignment.value==="contain"&&(x.value=p.clientX-D.getBoundingClientRect().left);const L=[0,m.width-R],M=V.value?[l.value,i.value]:[i.value,l.value],F=le(L,M);$.value=m;const b=d?p.clientX-m.left-R/2:p.clientX-m.left-(x.value??0);return F(b)}const C=w(()=>V.value?"left":"right"),O=w(()=>V.value?"right":"left"),P=w(()=>V.value?1:-1);return we({startEdge:C,endEdge:O,direction:P,size:"width"}),(p,d)=>(v(),E(xe,{ref:e(c),dir:e(a),"data-orientation":"horizontal",style:ne({"--reka-slider-thumb-transform":!V.value&&e(f).thumbAlignment.value==="overflow"?"translateX(50%)":"translateX(-50%)"}),onSlideStart:d[0]||(d[0]=m=>{const D=_(m,!0);r("slideStart",D)}),onSlideMove:d[1]||(d[1]=m=>{const D=_(m);r("slideMove",D)}),onSlideEnd:d[2]||(d[2]=()=>{$.value=void 0,x.value=void 0,r("slideEnd")}),onStepKeyDown:d[3]||(d[3]=m=>{const D=V.value?"from-left":"from-right",R=e(be)[D].includes(m.key);r("stepKeyDown",m,R?-1:1)}),onEndKeyDown:d[4]||(d[4]=m=>r("endKeyDown",m)),onHomeKeyDown:d[5]||(d[5]=m=>r("homeKeyDown",m))},{default:h(()=>[I(p.$slots,"default")]),_:3},8,["dir","style"]))}}),ct=dt,pt=K({__name:"SliderVertical",props:{min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(s,{emit:o}){const t=s,r=o,{max:i,min:l,inverted:a}=oe(t),n=H(),{forwardRef:c,currentElement:u}=T(),f=k(),x=k(),$=w(()=>!a.value);function V(P,p){const d=x.value||u.value.getBoundingClientRect(),m=[...n.thumbElements.value][n.valueIndexToChangeRef.value],D=n.thumbAlignment.value==="contain"?m.clientHeight:0;!f.value&&!p&&n.thumbAlignment.value==="contain"&&(f.value=P.clientY-m.getBoundingClientRect().top);const R=[0,d.height-D],L=$.value?[i.value,l.value]:[l.value,i.value],M=le(R,L),F=p?P.clientY-d.top-D/2:P.clientY-d.top-(f.value??0);return x.value=d,M(F)}const _=w(()=>$.value?"bottom":"top"),C=w(()=>$.value?"top":"bottom"),O=w(()=>$.value?1:-1);return we({startEdge:_,endEdge:C,direction:O,size:"height"}),(P,p)=>(v(),E(xe,{ref:e(c),"data-orientation":"vertical",style:ne({"--reka-slider-thumb-transform":!$.value&&e(n).thumbAlignment.value==="overflow"?"translateY(-50%)":"translateY(50%)"}),onSlideStart:p[0]||(p[0]=d=>{const m=V(d,!0);r("slideStart",m)}),onSlideMove:p[1]||(p[1]=d=>{const m=V(d);r("slideMove",m)}),onSlideEnd:p[2]||(p[2]=()=>{x.value=void 0,f.value=void 0,r("slideEnd")}),onStepKeyDown:p[3]||(p[3]=d=>{const m=$.value?"from-bottom":"from-top",D=e(be)[m].includes(d.key);r("stepKeyDown",d,D?-1:1)}),onEndKeyDown:p[4]||(p[4]=d=>r("endKeyDown",d)),onHomeKeyDown:p[5]||(p[5]=d=>r("homeKeyDown",d))},{default:h(()=>[I(P.$slots,"default")]),_:3},8,["style"]))}}),mt=pt;const[H,ft]=me("SliderRoot");var vt=K({inheritAttrs:!1,__name:"SliderRoot",props:{defaultValue:{type:Array,required:!1,default:()=>[0]},modelValue:{type:[Array,null],required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},inverted:{type:Boolean,required:!1,default:!1},min:{type:Number,required:!1,default:0},max:{type:Number,required:!1,default:100},step:{type:Number,required:!1,default:1},minStepsBetweenThumbs:{type:Number,required:!1,default:0},thumbAlignment:{type:String,required:!1,default:"contain"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","valueCommit"],setup(s,{emit:o}){const t=s,r=o,{min:i,max:l,step:a,minStepsBetweenThumbs:n,orientation:c,disabled:u,thumbAlignment:f,dir:x}=oe(t),$=He(x),{forwardRef:V,currentElement:_}=T(),C=Oe(_),{CollectionSlot:O}=re({isProvider:!0}),P=Le(t,"modelValue",r,{defaultValue:t.defaultValue,passive:t.modelValue===void 0}),p=w(()=>Array.isArray(P.value)?[...P.value]:[]),d=k(0),m=k(p.value);function D(b){const S=nt(p.value,b);M(b,S)}function R(b){M(b,d.value)}function L(){const b=m.value[d.value];p.value[d.value]!==b&&r("valueCommit",De(p.value))}function M(b,S,{commit:q}={commit:!1}){var U;const Z=it(a.value),se=ut(Math.round((b-i.value)/a.value)*a.value+i.value,Z),ee=pe(se,i.value,l.value),z=at(p.value,ee,S);if(st(z,n.value*a.value)){d.value=z.indexOf(ee);const j=String(z)!==String(P.value);j&&q&&r("valueCommit",z),j&&((U=F.value[d.value])==null||U.focus(),P.value=z)}}const F=k([]);return ft({modelValue:P,currentModelValue:p,valueIndexToChangeRef:d,thumbElements:F,orientation:c,min:i,max:l,disabled:u,thumbAlignment:f}),(b,S)=>(v(),E(e(O),null,{default:h(()=>[(v(),E(Pe(e(c)==="horizontal"?ct:mt),W(b.$attrs,{ref:e(V),"as-child":b.asChild,as:b.as,min:e(i),max:e(l),dir:e($),inverted:b.inverted,"aria-disabled":e(u),"data-disabled":e(u)?"":void 0,onPointerdown:S[0]||(S[0]=()=>{e(u)||(m.value=p.value)}),onSlideStart:S[1]||(S[1]=q=>!e(u)&&D(q)),onSlideMove:S[2]||(S[2]=q=>!e(u)&&R(q)),onSlideEnd:S[3]||(S[3]=q=>!e(u)&&L()),onHomeKeyDown:S[4]||(S[4]=q=>!e(u)&&M(e(i),0,{commit:!0})),onEndKeyDown:S[5]||(S[5]=q=>!e(u)&&M(e(l),p.value.length-1,{commit:!0})),onStepKeyDown:S[6]||(S[6]=(q,Z)=>{if(!e(u)){const z=e(_e).includes(q.key)||q.shiftKey&&e(he).includes(q.key)?10:1,U=d.value,j=p.value[U],Ce=e(a)*z*Z;M(j+Ce,U,{commit:!0})}})}),{default:h(()=>[I(b.$slots,"default",{modelValue:e(P)}),e(C)&&b.name?(v(),E(e(We),{key:0,type:"number",value:e(P),name:b.name,required:b.required,disabled:e(u),step:e(a)},null,8,["value","name","required","disabled","step"])):Q("v-if",!0)]),_:3},16,["as-child","as","min","max","dir","inverted","aria-disabled","data-disabled"]))]),_:3}))}}),gt=vt,yt=K({__name:"SliderImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},emits:["slideStart","slideMove","slideEnd","homeKeyDown","endKeyDown","stepKeyDown"],setup(s,{emit:o}){const t=s,r=o,i=H();return(l,a)=>(v(),E(e(J),W({"data-slider-impl":""},t,{onKeydown:a[0]||(a[0]=n=>{n.key==="Home"?(r("homeKeyDown",n),n.preventDefault()):n.key==="End"?(r("endKeyDown",n),n.preventDefault()):e(_e).concat(e(he)).includes(n.key)&&(r("stepKeyDown",n),n.preventDefault())}),onPointerdown:a[1]||(a[1]=n=>{const c=n.target;c.setPointerCapture(n.pointerId),n.preventDefault(),e(i).thumbElements.value.includes(c)?c.focus():r("slideStart",n)}),onPointermove:a[2]||(a[2]=n=>{n.target.hasPointerCapture(n.pointerId)&&r("slideMove",n)}),onPointerup:a[3]||(a[3]=n=>{const c=n.target;c.hasPointerCapture(n.pointerId)&&(c.releasePointerCapture(n.pointerId),r("slideEnd",n))})}),{default:h(()=>[I(l.$slots,"default")]),_:3},16))}}),xe=yt,_t=K({__name:"SliderRange",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(s){const o=H(),t=Se();T();const r=w(()=>o.currentModelValue.value.map(a=>ye(a,o.min.value,o.max.value))),i=w(()=>o.currentModelValue.value.length>1?Math.min(...r.value):0),l=w(()=>100-Math.max(...r.value,0));return(a,n)=>(v(),E(e(J),{"data-disabled":e(o).disabled.value?"":void 0,"data-orientation":e(o).orientation.value,"as-child":a.asChild,as:a.as,style:ne({[e(t).startEdge.value]:`${i.value}%`,[e(t).endEdge.value]:`${l.value}%`})},{default:h(()=>[I(a.$slots,"default")]),_:3},8,["data-disabled","data-orientation","as-child","as","style"]))}}),ht=_t,bt=K({inheritAttrs:!1,__name:"SliderThumbImpl",props:{index:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(s){const o=s,t=H(),r=Se(),{forwardRef:i,currentElement:l}=T(),{CollectionItem:a}=re(),n=w(()=>{var _,C;return(C=(_=t.modelValue)==null?void 0:_.value)==null?void 0:C[o.index]}),c=w(()=>n.value===void 0?0:ye(n.value,t.min.value??0,t.max.value??100)),u=w(()=>{var _,C;return ot(o.index,((C=(_=t.modelValue)==null?void 0:_.value)==null?void 0:C.length)??0)}),f=ke(l),x=w(()=>f[r.size].value),$=w(()=>t.thumbAlignment.value==="overflow"||!x.value?0:rt(x.value,c.value,r.direction.value)),V=Ue();return G(()=>{t.thumbElements.value.push(l.value)}),de(()=>{const _=t.thumbElements.value.findIndex(C=>C===l.value)??-1;t.thumbElements.value.splice(_,1)}),(_,C)=>(v(),E(e(a),null,{default:h(()=>[y(e(J),W(_.$attrs,{ref:e(i),role:"slider",tabindex:e(t).disabled.value?void 0:0,"aria-label":_.$attrs["aria-label"]||u.value,"data-disabled":e(t).disabled.value?"":void 0,"data-orientation":e(t).orientation.value,"aria-valuenow":n.value,"aria-valuemin":e(t).min.value,"aria-valuemax":e(t).max.value,"aria-orientation":e(t).orientation.value,"as-child":_.asChild,as:_.as,style:{transform:"var(--reka-slider-thumb-transform)",position:"absolute",[e(r).startEdge.value]:`calc(${c.value}% + ${$.value}px)`,display:!e(V)&&n.value===void 0?"none":void 0},onFocus:C[0]||(C[0]=()=>{e(t).valueIndexToChangeRef.value=_.index})}),{default:h(()=>[I(_.$slots,"default")]),_:3},16,["tabindex","aria-label","data-disabled","data-orientation","aria-valuenow","aria-valuemin","aria-valuemax","aria-orientation","as-child","as","style"])]),_:3}))}}),St=bt,wt=K({__name:"SliderThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(s){const o=s,{getItems:t}=re(),{forwardRef:r,currentElement:i}=T(),l=w(()=>i.value?t(!0).findIndex(a=>a.ref===i.value):-1);return(a,n)=>(v(),E(St,W({ref:e(r)},o,{index:l.value}),{default:h(()=>[I(a.$slots,"default")]),_:3},16,["index"]))}}),xt=wt,Ct=K({__name:"SliderTrack",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(s){const o=H();return T(),(t,r)=>(v(),E(e(J),{"as-child":t.asChild,as:t.as,"data-disabled":e(o).disabled.value?"":void 0,"data-orientation":e(o).orientation.value},{default:h(()=>[I(t.$slots,"default")]),_:3},8,["as-child","as","data-disabled","data-orientation"]))}}),Pt=Ct;const Dt=K({__name:"Slider",props:{defaultValue:{},modelValue:{},disabled:{type:Boolean},orientation:{},dir:{},inverted:{type:Boolean},min:{},max:{},step:{},minStepsBetweenThumbs:{},thumbAlignment:{},asChild:{type:Boolean},as:{type:[String,Object,Function]},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","valueCommit"],setup(s,{emit:o}){const t=s,r=o,i=Ye(t,"class"),l=Ne(i,r);return(a,n)=>(v(),E(e(gt),W({"data-slot":"slider",class:e(fe)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t.class)},e(l)),{default:h(({modelValue:c})=>[y(e(Pt),{"data-slot":"slider-track",class:"bg-gray-300 relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"},{default:h(()=>[y(e(ht),{"data-slot":"slider-range",class:"bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full"})]),_:1}),(v(!0),A(B,null,N(c,(u,f)=>(v(),E(e(xt),{key:f,"data-slot":"slider-thumb",class:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"}))),128))]),_:1},16,["class"]))}}),Et={class:"grid grid-cols-2 gap-4"},$t={class:"flex flex-col gap-3 w-full col-span-2 md:col-span-1 lg:col-span-2"},Vt={class:"flex justify-between"},qt={class:"text-xs"},kt={class:"text-xs"},Kt={class:"grid md:grid-cols-2 lg:grid-cols-1 col-span-2 md:col-span-1 lg:col-span-2 gap-3"},At=K({__name:"ProductsFilter",props:{categories:{},regions:{},highestPrice:{}},setup(s){const t=Ee({q:"",categories:null,country:null,region:null,price:`0,${s.highestPrice}`}),{filteredQuery:r,runFilter:i}=Me({form:t,routeName:"products.index",preserveKeys:["productsData"],buildQuery:l=>{var a;t.q&&l.filter("q",t.q),t.country&&l.filter("country",t.country.toString()),t.region&&l.filter("region",t.region.toString()),t.price&&l.filter("price",t.price),(a=t.categories)!=null&&a.length&&t.categories.forEach(n=>{l.filter("categories",n.toString())})}});return $e(()=>{const l=new URLSearchParams(window.location.search),a=l.get("filter[q]"),n=l.get("filter[categories]"),c=l.get("filter[country]"),u=l.get("filter[region]"),f=l.get("filter[price]");t.categories=n?n.split(",").map(x=>Number(x)):[],t.country=c?Number(c):null,t.region=u?Number(u):null,t.q=a||"",t.price=f||t.price,l.size>0&&(r.value="&"+l.toString())}),(l,a)=>{var n,c;return v(),A(B,null,[a[6]||(a[6]=g("div",{class:"mb-3 text-lg font-semibold"},"Filter",-1)),g("div",Et,[y(Re,{placeholder:"Search products...","container-class":"gap-0 col-span-2 md:col-span-1 lg:col-span-2",type:"text",model:"q",form:e(t)},null,8,["form"]),y(e(Ie),{modelValue:e(t).categories,"onUpdate:modelValue":a[0]||(a[0]=u=>e(t).categories=u),"default-value":e(t).categories,multiple:!0},{default:h(()=>[y(e(ze),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:h(()=>[y(e(Te),{placeholder:"Category"})]),_:1}),y(e(Fe),{options:l.categories.map(u=>({label:u.name,value:u.id}))},null,8,["options"])]),_:1},8,["modelValue","default-value"]),y(je,{form:e(t),"region-model":"region","country-model":"country"},null,8,["form"]),g("div",$t,[a[3]||(a[3]=g("div",{class:"w-full"},"Price",-1)),y(e(Dt),{"default-value":[e(t).price.split(",")[0],e(t).price.split(",")[1]],max:l.highestPrice??100,step:1,"onUpdate:modelValue":a[1]||(a[1]=u=>{e(t).price=`${u==null?void 0:u[0]},${u==null?void 0:u[1]}`}),class:"bg-gray-300"},null,8,["default-value","max"]),g("div",Vt,[g("span",null,[g("span",qt,X(e(ie)()),1),Y(X((n=e(t).price)!=null&&n.length?e(t).price.split(",")[0]:0),1)]),g("span",null,[g("span",kt,X(e(ie)()),1),Y(X((c=e(t).price)!=null&&c.length?e(t).price.split(",")[1]:100),1)])])]),g("div",Kt,[y(e(ue),{onClick:e(i),processing:e(t).processing},{default:h(()=>a[4]||(a[4]=[Y("Apply Filter ")])),_:1,__:[4]},8,["onClick","processing"]),te(y(e(ue),{variant:"secondary",onClick:a[2]||(a[2]=u=>e(ce).visit(l.route("products.index")))},{default:h(()=>a[5]||(a[5]=[Y("Reset ")])),_:1,__:[5]},512),[[ae,e(r)]])])])],64)}}});function Mt({initialData:s,nextPageUrl:o,resourceKey:t,preserveKeys:r=[]}){const i=k(s),l=k(!1),a=k(o),n=()=>{l.value||!a.value||window.innerHeight+window.scrollY>=document.body.offsetHeight-100&&c()},c=()=>{ce.get(a.value,{},{preserveState:!0,preserveScroll:!0,preserveUrl:!0,only:r,onStart:()=>l.value=!0,onFinish:()=>l.value=!1,onSuccess:u=>{const f=u.props[t];f?(i.value=[...i.value,...f.data],a.value=f.next_page_url):console.warn(`Key "${t}" not found in page.props`)}})};return G(()=>{window.addEventListener("scroll",n)}),de(()=>{window.removeEventListener("scroll",n)}),{items:i,loading:l,nextPage:a,fetchMore:c}}const Bt=K({__name:"AdvertisedProductsV",props:{itemsClass:{}},setup(s){const o=Je({delay:5e3,stopOnMouseEnter:!0,stopOnInteraction:!1}),t=s,r=k([]),i=k(!1);G(async()=>{i.value=!0,r.value=(await tt()).products,i.value=!1});const l=k(!1),a=c=>{l.value=c},n=()=>{if(l.value)o.stop();else try{o.reset(),o.play()}catch{}};return(c,u)=>r.value.length?(v(),E(e(Ze),{key:0,plugins:[e(o)],onMouseenter:e(o).stop,onMouseleave:n,opts:{loop:!0},orientation:"vertical"},{default:h(()=>[y(e(Ge),{class:Ve(e(fe)("mb-5",t.itemsClass))},{default:h(()=>[(v(!0),A(B,null,N(r.value,f=>(v(),E(e(et),{class:"basis-1/3",key:f.id},{default:h(()=>[y(ve,{product:f,"carousel-plugin":e(o),onPopoverOpen:a},null,8,["product","carousel-plugin"]),i.value?(v(),A(B,{key:0},N([1,2,3],x=>y(ge,{key:x})),64)):Q("",!0)]),_:2},1024))),128))]),_:1},8,["class"])]),_:1},8,["plugins","onMouseenter"])):Q("",!0)}}),Rt={class:"w-full"},It={class:"relative grid grid-cols-5 w-full gap-15"},zt={class:"lg:block col-span-5 lg:col-span-1"},Tt={class:"sticky top-40"},Ft={class:"col-span-5 lg:col-span-3 text-gray-900 antialiased"},Nt={class:"grid items-stretch gap-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4"},Ht={key:0,class:"text-center mt-10 text-xl font-bold text-fade"},Ot={class:"hidden lg:block lg:col-span-1"},Lt={class:"sticky top-40"},Ut={class:"mb-4 text-lg font-semibold text-fade flex gap-2 items-center"},Ea=K({__name:"Products",props:{productsData:{},categories:{},regions:{},highestPrice:{}},setup(s){const o=s,{items:t,loading:r,nextPage:i}=Mt({initialData:o.productsData.data,nextPageUrl:o.productsData.next_page_url,resourceKey:"productsData",preserveKeys:["productsData"]});return G(()=>{i.value=o.productsData.next_page_url,t.value=o.productsData.data}),(l,a)=>(v(),A(B,null,[y(e(qe),{title:"Products"}),y(Ke,null,{default:h(()=>[g("div",Rt,[a[2]||(a[2]=g("div",{class:"w-full my-10 text-center"},[g("div",{class:"text-fade text-2xl font-semibold"},"Shop")],-1)),g("div",It,[g("div",zt,[g("div",Tt,[y(At,{regions:l.regions,categories:l.categories,highestPrice:l.highestPrice},null,8,["regions","categories","highestPrice"])])]),g("div",Ft,[g("div",Nt,[(v(!0),A(B,null,N(e(Ae)(e(t),15),(n,c)=>(v(),A(B,{key:`chunk-${c}`},[(v(!0),A(B,null,N(n,u=>(v(),E(ve,{key:`product-${u.id}`,product:u},null,8,["product"]))),128)),te(y(Xe,{"container-class":"md:col-span-3 lg:col-span-3 xl:col-span-4 sm:col-span-2 lg:hidden mt-4"},{default:h(()=>a[0]||(a[0]=[g("div",{class:"flex items-center gap-2 lg:text-2xl text-lg font-bold"},[g("span",null,"Popular Sellers")],-1)])),_:2,__:[0]},1536),[[ae,n.length>14]])],64))),128)),(v(),A(B,null,N([1,2,3,4],n=>te(y(ge,{key:n,class:"shadow-2xl"}),[[ae,e(r)]])),64))]),e(t).length?Q("",!0):(v(),A("div",Ht," No results found, broaden your search... "))]),g("div",Ot,[g("div",Lt,[g("div",Ut,[a[1]||(a[1]=Y(" Popular Sellers ")),y(e(Qe),{size:22,class:"text-primary"})]),y(Bt,{"items-class":"h-screen",class:""})])])])]),y(Be)]),_:1})],64))}});export{Ea as default};
