import{d as S,j as J,o as c,w as i,a,u as e,b as t,x as E,E as U,c as m,F as p,h as v,C as D,D as P,e as x,W as q,t as C,f as Q,g as R,i as W}from"./app-9tJ8xW7z.js";import{_ as A}from"./Layout.vue_vue_type_script_setup_true_lang-tumnLgb1.js";import{c as K}from"./helpers-BWPrWVmR.js";import{_ as L}from"./JobCardV1.vue_vue_type_script_setup_true_lang-CrgpH0e7.js";import{u as M}from"./useScrollPagination-FKQ130G7.js";import{_ as T,a as z}from"./CardContent.vue_vue_type_script_setup_true_lang-Bbv_X1dw.js";import{_ as B}from"./InputText.vue_vue_type_script_setup_true_lang-B-vgVqi3.js";import{_ as F}from"./index-BTrP4hFY.js";import{_ as k,a as j,b as $,c as V,d as N}from"./SelectValue.vue_vue_type_script_setup_true_lang-K6V6hQc4.js";import{u as I,_ as G}from"./BackToTop.vue_vue_type_script_setup_true_lang-maV9S_-T.js";import{_ as H}from"./CountryRegionSelector.vue_vue_type_script_setup_true_lang-KgzLTt6J.js";import"./x-DK2F_h2w.js";import"./Primitive-Bjn6Mdkj.js";import"./createLucideIcon-B65AM6eV.js";import"./utils-bRKmu4jq.js";import"./index-gs9SqTta.js";import"./map-pin-Bh8pbKs3.js";import"./flag-hvkS4K4N.js";import"./briefcase-0lB80kFF.js";import"./clock-DEQIaLzf.js";import"./InputError.vue_vue_type_script_setup_true_lang-D7jv5w4z.js";import"./Label.vue_vue_type_script_setup_true_lang-C5EgUULi.js";import"./Input.vue_vue_type_script_setup_true_lang-KqZdVUtH.js";import"./index-dkW4UkYo.js";import"./check-DBqDxR49.js";import"./chevron-down-VStyebP3.js";import"./Collection-Bz2LBzak.js";import"./nullish-CtH4V8ap.js";import"./useDirection-aFZcdX-f.js";import"./useFormControl-hw4ntGUy.js";import"./VisuallyHidden-C1VHASLO.js";import"./api-B7d0WhXd.js";const O=S({__name:"JobCardV1Skeleton",setup(w){return(o,g)=>(c(),J(e(z),{class:"shadow-none border-3 rounded-3xl border-gray-300 animate-pulse"},{default:i(()=>[a(e(T),{class:"h-full"},{default:i(()=>g[0]||(g[0]=[t("div",{class:"flex gap-7 flex-col h-full"},[t("div",{class:"flex items-center gap-3"},[t("div",null,[t("div",{class:"w-[60px] h-[60px] rounded-xl bg-gray-300"})]),t("div",{class:"flex flex-col gap-1 flex-grow"},[t("div",{class:"w-32 h-4 bg-gray-300 rounded"}),t("div",{class:"flex gap-1 items-center"},[t("div",{class:"w-3 h-3 bg-gray-300 rounded-full"}),t("div",{class:"w-24 h-3 bg-gray-300 rounded"})])]),t("div",{class:"ms-auto"},[t("div",{class:"w-[22px] h-[22px] bg-gray-300 rounded-full"})])]),t("div",{class:"flex flex-col gap-2"},[t("div",{class:"w-40 h-4 bg-gray-300 rounded"}),t("div",{class:"flex gap-4 items-center"},[t("div",{class:"flex gap-1 items-center"},[t("div",{class:"w-3 h-3 bg-gray-300 rounded-full"}),t("div",{class:"w-16 h-3 bg-gray-300 rounded"})]),t("div",{class:"flex gap-1 items-center"},[t("div",{class:"w-3 h-3 bg-gray-300 rounded-full"}),t("div",{class:"w-16 h-3 bg-gray-300 rounded"})])]),t("div",{class:"w-full h-3 bg-gray-300 rounded"}),t("div",{class:"w-5/6 h-3 bg-gray-300 rounded"})]),t("div",{class:"mt-auto"},[t("div",{class:"w-full h-9 bg-gray-300 rounded-3xl"})])],-1)])),_:1,__:[0]})]),_:1}))}}),X={class:"grid grid-cols-2 gap-4"},Y={class:"grid md:grid-cols-2 lg:grid-cols-1 col-span-2 md:col-span-1 lg:col-span-2 gap-3"},Z=S({__name:"JobFilter",props:{categories:{},regions:{}},setup(w){const o=E({q:"",categories:null,region:null,country:null,work_mode:null,job_type:null}),g=["onsite","remote","hybrid"],h=["Full time","Part time","Contract","Internship"],{filteredQuery:y,runFilter:f}=I({form:o,routeName:"jobs.index",preserveKeys:["jobsData"],buildQuery:s=>{var l,u,n;o.q&&s.filter("q",o.q),o.region&&s.filter("region",o.region.toString()),o.country&&s.filter("country",o.country.toString()),(l=o.categories)!=null&&l.length&&o.categories.forEach(d=>{s.filter("categories",d.toString())}),(u=o.work_mode)!=null&&u.length&&o.work_mode.forEach(d=>{s.filter("work_mode",d.toString())}),(n=o.job_type)!=null&&n.length&&o.job_type.forEach(d=>{s.filter("job_type",d.toString())})}});return U(()=>{const s=new URLSearchParams(window.location.search),l=s.get("filter[q]"),u=s.get("filter[categories]"),n=s.get("filter[work_mode]"),d=s.get("filter[job_type]"),_=s.get("filter[region]"),r=s.get("filter[country]");o.categories=u?u.split(",").map(b=>Number(b)):[],o.work_mode=n?n.split(",").map(b=>b):[],o.job_type=d?d.split(",").map(b=>b):[],o.region=_?Number(_):null,o.country=r?Number(r):null,o.q=l||"",s.size>0&&(y.value="&"+s.toString())}),(s,l)=>{var u,n,d,_;return c(),m(p,null,[l[6]||(l[6]=t("div",{class:"mb-3 text-lg font-semibold"},"Filter",-1)),t("div",X,[a(B,{placeholder:"Search jobs...","container-class":"gap-0 col-span-2 md:col-span-1 lg:col-span-2",type:"text",model:"q",form:e(o)},null,8,["form"]),a(e(k),{modelValue:e(o).job_type,"onUpdate:modelValue":l[0]||(l[0]=r=>e(o).job_type=r),"default-value":e(o).job_type,multiple:!0},{default:i(()=>[a(e(j),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:i(()=>[a(e($),{placeholder:"Type"})]),_:1}),a(e(V),null,{default:i(()=>[(c(),m(p,null,v(h,r=>a(e(N),{key:r,value:r},{default:i(()=>[x(C(r),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue","default-value"]),a(e(k),{modelValue:e(o).work_mode,"onUpdate:modelValue":l[1]||(l[1]=r=>e(o).work_mode=r),"default-value":e(o).work_mode,multiple:!0},{default:i(()=>[a(e(j),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:i(()=>[a(e($),{placeholder:"Work mode"})]),_:1}),a(e(V),null,{default:i(()=>[(c(),m(p,null,v(g,r=>a(e(N),{key:r,value:r},{default:i(()=>[x(C(r),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue","default-value"]),a(e(k),{modelValue:e(o).categories,"onUpdate:modelValue":l[2]||(l[2]=r=>e(o).categories=r),"default-value":e(o).categories,multiple:!0},{default:i(()=>[a(e(j),{class:"w-full col-span-2 md:col-span-1 lg:col-span-2"},{default:i(()=>[a(e($),{placeholder:"Job category"})]),_:1}),a(e(V),{options:s.categories.map(r=>({label:r.name,value:r.id}))},null,8,["options"])]),_:1},8,["modelValue","default-value"]),a(H,{form:e(o),"region-model":"region","country-model":"country"},null,8,["form"]),t("div",Y,[D(a(e(F),{onClick:e(f),processing:e(o).processing},{default:i(()=>l[4]||(l[4]=[x("Apply Filter")])),_:1,__:[4]},8,["onClick","processing"]),[[P,e(o).region||e(o).country||((u=e(o).categories)==null?void 0:u.length)||((n=e(o).q)==null?void 0:n.length)||((d=e(o).work_mode)==null?void 0:d.length)||((_=e(o).job_type)==null?void 0:_.length)]]),D(a(e(F),{variant:"secondary",onClick:l[3]||(l[3]=r=>e(q).visit(s.route("jobs.index")))},{default:i(()=>l[5]||(l[5]=[x("Reset ")])),_:1,__:[5]},512),[[P,e(y)]])])])],64)}}}),ee={class:"w-full"},oe={class:"relative grid grid-cols-4 max-w-[1400px] mx-auto gap-15"},te={class:"lg:block col-span-4 lg:col-span-1"},le={class:"sticky top-40"},ae={class:"col-span-4 lg:col-span-3 text-gray-900 antialiased"},se={class:"grid items-stretch gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3"},re={key:0,class:"text-center mt-10 text-xl font-bold text-fade max-w-xl"},We=S({__name:"Jobs",props:{jobsData:{},categories:{},regions:{}},setup(w){const o=w,{items:g,loading:h,nextPage:y}=M({initialData:o.jobsData.data,nextPageUrl:o.jobsData.next_page_url,extractResponseData:f=>f.props.jobsData,preserveKeys:["jobsData"]});return Q(()=>{y.value=o.jobsData.next_page_url,g.value=o.jobsData.data}),(f,s)=>(c(),m(p,null,[a(e(R),{title:"Jobs"}),a(A,null,{default:i(()=>[t("div",ee,[s[0]||(s[0]=t("div",{class:"w-full my-10 text-center"},[t("div",{class:"text-fade text-2xl font-semibold"},"Browse Jobs")],-1)),t("div",oe,[t("div",te,[t("div",le,[a(Z,{categories:f.categories,regions:f.regions},null,8,["categories","regions"])])]),t("div",ae,[t("div",se,[(c(!0),m(p,null,v(e(K)(e(g),15),(l,u)=>(c(),m(p,{key:`chunk-${u}`},[(c(!0),m(p,null,v(l,n=>(c(),J(L,{key:`job-card-${n.id}`,job:n},null,8,["job"]))),128))],64))),128)),(c(),m(p,null,v([1,2,3,4],l=>D(a(O,{key:l,class:"shadow-2xl"}),[[P,e(h)]])),64))]),e(g).length?W("",!0):(c(),m("div",re," No results found, broaden your search... "))])])]),a(G)]),_:1})],64))}});export{We as default};
