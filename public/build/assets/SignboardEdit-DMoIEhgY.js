import{d as c,x as _,f as y,q as f,c as v,o as w,a as s,u as o,g as S,w as m,b as a,F as h}from"./app-CO7tRMPa.js";import{t as k,a as x}from"./helpers-qni1jYST.js";import{_ as q}from"./Layout.vue_vue_type_script_setup_true_lang-DCs0JVu0.js";import{_ as B}from"./PageHeader.vue_vue_type_script_setup_true_lang-DHokSiwN.js";import{_ as $}from"./FormComponent.vue_vue_type_script_setup_true_lang-DCnyKwIV.js";import{_ as d}from"./InputSelect.vue_vue_type_script_setup_true_lang-C5DndcLU.js";import{_ as n}from"./InputText.vue_vue_type_script_setup_true_lang-IUH4eXc3.js";import{_ as E}from"./FeatureFileUpload.vue_vue_type_script_setup_true_lang-Bv-zyP7Q.js";import{_ as N}from"./GalleryFilesUpload.vue_vue_type_script_setup_true_lang-Bi7Qv6Kw.js";import{P as U}from"./pen-line-Ck5VV4Eu.js";import"./index-B7bkwbD9.js";import"./index-CwPhLhxX.js";import"./utils-bRKmu4jq.js";import"./Primitive-Bt2Vqvy7.js";import"./index-dkW4UkYo.js";import"./createLucideIcon-DSnvKsHv.js";import"./x-D1YiTpkX.js";import"./check-DKQq6rvE.js";import"./InputError.vue_vue_type_script_setup_true_lang-DKKlDoxn.js";import"./Label.vue_vue_type_script_setup_true_lang-Qzvkm3M0.js";import"./Input.vue_vue_type_script_setup_true_lang-nOOGLbz_.js";import"./upload-j3A8EneV.js";import"./plus-B2eoExmG.js";const F={class:"w-full bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50"},O={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},A={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},C={class:"md:col-span-2"},I={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},L={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ie=c({__name:"SignboardEdit",props:{signboard:{},categories:{},regions:{},businesses:{}},setup(p){const t=p,e=_({business_id:"",name:"",region_id:"",categories:[],town:"",street:"",landmark:"",blk_number:"",gps:"",featured:null,gallery:[],removed_gallery_urls:[]});y(()=>{var l;const r=t.signboard;e.business_id=String(r.business_id),e.name=r.name,e.region_id=String(r.region_id),e.categories=((l=r.categories)==null?void 0:l.map(i=>i.id))||[],e.town=r.town,e.street=r.street,e.landmark=r.landmark,e.blk_number=r.blk_number,e.gps=r.gps});const g=f(()=>t.signboard.gallery?Array.from(t.signboard.gallery).map((l,i)=>({url:l,isOriginal:!0,originalIndex:i})):[]),u=f(()=>Object.keys(e.errors).filter(r=>r.startsWith("gallery_images.")).map(r=>e.errors[r])),b=()=>{e.post(route("my-signboards.update",t.signboard.id),{forceFormData:!0,preserveScroll:!0,onSuccess:r=>{r.props.success?(k(r.props.message),e.removed_gallery_urls=[]):x(r.props.message)}})};return(r,l)=>(w(),v(h,null,[s(o(S),{title:"Edit Signboard"}),s(q,null,{default:m(()=>[a("div",F,[s(B,{title:"Edit Signboard",subtitle:"Update your signboard listing information",icon:o(U)},null,8,["icon"]),s($,{form:o(e),"featured-preview":t.signboard.featured,"gallery-items":g.value,"gallery-errors":u.value,"submit-text":"Update Signboard","processing-text":"Updating Signboard...",onSubmit:b},{"form-sections":m(()=>[a("div",O,[l[2]||(l[2]=a("h2",{class:"text-lg font-semibold text-gray-900 mb-6"},"Business Information",-1)),a("div",A,[s(d,{label:"Select Business",form:o(e),model:"business_id",disabled:!0,options:r.businesses,required:"",searchable:""},null,8,["form","options"]),s(n,{form:o(e),label:"Name/Title",model:"name",required:""},null,8,["form"]),a("div",C,[s(d,{label:"Fields Of Operation",form:o(e),model:"categories",options:r.categories,taggable:"",required:"",searchable:""},null,8,["form","options"])]),s(d,{label:"Region",form:o(e),model:"region_id",options:r.regions,required:"",searchable:""},null,8,["form","options"]),s(n,{form:o(e),label:"Town",model:"town",required:""},null,8,["form"])])]),a("div",I,[l[3]||(l[3]=a("h2",{class:"text-lg font-semibold text-gray-900 mb-6"},"Location Details",-1)),a("div",L,[s(n,{form:o(e),label:"Street Address",model:"street",placeholder:"e.g., Main Street"},null,8,["form"]),s(n,{form:o(e),label:"Landmark",model:"landmark",required:"",placeholder:"e.g., Near Central Mall"},null,8,["form"]),s(n,{form:o(e),label:"Block Number",model:"blk_number",placeholder:"e.g., Block A"},null,8,["form"]),s(n,{form:o(e),label:"GPS",model:"gps",placeholder:"e.g., 5.6037, -0.1870"},null,8,["form"])])])]),"media-section":m(()=>[s(E,{form:o(e),"featured-preview":t.signboard.featured,file:o(e).featured,"onUpdate:file":l[0]||(l[0]=i=>o(e).featured=i)},null,8,["form","featured-preview","file"]),s(N,{form:o(e),files:o(e).gallery,"onUpdate:files":l[1]||(l[1]=i=>o(e).gallery=i),"gallery-errors":u.value,"gallery-items":g.value},null,8,["form","files","gallery-errors","gallery-items"])]),_:1},8,["form","featured-preview","gallery-items","gallery-errors"])])]),_:1})],64))}});export{ie as default};
