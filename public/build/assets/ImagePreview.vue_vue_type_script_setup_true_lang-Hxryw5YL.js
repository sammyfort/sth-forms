import{d as B,r as v,q as y,f as $,I as E,s as M,c as l,o as s,n as R,b as t,j as V,a as i,e as P,u,t as w,i as c,l as g,F as I,h as T,aj as D,v as G}from"./app-CqEa0Bzm.js";import{C as U,M as j}from"./ReviewsDetails.vue_vue_type_script_setup_true_lang-O2_Nj4Qc.js";import{X as K}from"./x-BepfkO9S.js";import{a as S,C as q}from"./chevron-right-Btw_lasE.js";const O={class:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2"},X={key:0},H={key:0,class:"mb-8"},J=["src"],Q={key:1,class:"space-y-4"},W={class:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4"},Y=["onClick"],Z=["src","alt"],ee={class:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300 rounded-xl flex items-center justify-center"},te={key:1,class:"text-center py-12"},oe={class:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4"},se={class:"relative w-full h-full flex items-center justify-center"},le=["src","alt"],ae={class:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-white/20 backdrop-blur-sm rounded-full px-3 py-1 text-white text-sm z-10"},ce=B({__name:"ImagePreview",props:{featuredUrl:{default:null},galleryUrls:{default:()=>[]},title:{default:"Image Gallery"},className:{default:""}},setup(z){const r=z,d=v(!1),a=v(0),x=v(null),n=y(()=>{const o=[];return r.featuredUrl&&o.push({url:r.featuredUrl,isFeatured:!0}),r.galleryUrls&&o.push(...r.galleryUrls.map(e=>({url:e,isFeatured:!1}))),o}),L=y(()=>n.value.length>0),N=y(()=>r.galleryUrls&&r.galleryUrls.length>0),h=o=>{a.value=o,d.value=!0,G(()=>{var e;(e=x.value)==null||e.focus()})},m=()=>{d.value=!1},k=()=>{a.value=(a.value+1)%n.value.length},C=()=>{a.value=(a.value-1+n.value.length)%n.value.length},F=o=>r.featuredUrl?o+1:o,f=o=>{o.key==="Escape"&&m(),o.key==="ArrowRight"&&k(),o.key==="ArrowLeft"&&C()},A=()=>{d.value?document.body.style.overflow="hidden":document.body.style.overflow=""};return $(()=>{document.addEventListener("keydown",f)}),E(()=>{document.removeEventListener("keydown",f),document.body.style.overflow=""}),M(d,A),(o,e)=>{var _;return s(),l("div",{class:R(["bg-white rounded-2xl shadow-xl border border-gray-100 p-6",o.className])},[t("h3",O,[i(u(U),{class:"w-5 h-5 text-primary"}),P(" "+w(o.title),1)]),L.value?(s(),l("div",X,[o.featuredUrl?(s(),l("div",H,[t("div",{class:"relative group cursor-pointer",onClick:e[1]||(e[1]=b=>h(0))},[t("img",{src:o.featuredUrl,alt:"Featured Image",class:"w-full h-80 object-contain bg-gray-50 rounded-2xl shadow-lg transition-transform duration-300 group-hover:scale-[1.02]"},null,8,J),e[3]||(e[3]=t("div",{class:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors duration-300 rounded-2xl"},null,-1)),e[4]||(e[4]=t("div",{class:"absolute top-4 left-4"},[t("span",{class:"bg-gradient-to-r from-yellow-400 to-primary text-white px-3 py-1 rounded-full text-sm font-medium shadow-lg"}," Featured ")],-1)),t("button",{onClick:e[0]||(e[0]=g(b=>h(0),["stop"])),class:"absolute top-4 right-4 p-2 bg-white/20 backdrop-blur-sm rounded-full text-white hover:bg-white/30 transition-colors duration-200"},[i(u(j),{class:"w-4 h-4"})])])])):c("",!0),N.value?(s(),l("div",Q,[e[5]||(e[5]=t("h4",{class:"text-lg font-semibold text-gray-800"},"Additional Photos",-1)),t("div",W,[(s(!0),l(I,null,T(o.galleryUrls,(b,p)=>(s(),l("div",{key:p,class:"relative group cursor-pointer",onClick:re=>h(F(p))},[t("img",{src:b,alt:`Gallery Image ${p+1}`,class:"w-full h-32 object-contain bg-gray-50 rounded-xl shadow-md transition-all duration-300 group-hover:shadow-xl group-hover:scale-105"},null,8,Z),t("div",ee,[i(u(j),{class:"w-5 h-5 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300"})])],8,Y))),128))])])):c("",!0)])):(s(),l("div",te,[t("div",oe,[i(u(U),{class:"w-8 h-8 text-gray-400"})]),e[6]||(e[6]=t("h4",{class:"text-lg font-medium text-gray-600 mb-2"},"No Images Available",-1)),e[7]||(e[7]=t("p",{class:"text-gray-500"},"Upload photos to showcase this location.",-1))])),(s(),V(D,{to:"body"},[d.value?(s(),l("div",{key:0,class:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",onClick:m,onKeydown:f,tabindex:"0",ref_key:"lightboxRef",ref:x},[t("div",se,[t("img",{src:(_=n.value[a.value])==null?void 0:_.url,alt:`Image ${a.value+1}`,class:"max-w-full max-h-full object-contain rounded-lg",onClick:e[2]||(e[2]=g(()=>{},["stop"]))},null,8,le),t("button",{onClick:m,class:"absolute top-4 right-4 p-2 bg-white/20 backdrop-blur-sm rounded-full text-white hover:bg-white/30 transition-colors duration-200 z-10"},[i(u(K),{class:"w-6 h-6"})]),n.value.length>1?(s(),l(I,{key:0},[t("button",{onClick:g(C,["stop"]),class:"absolute left-4 top-1/2 -translate-y-1/2 p-2 bg-white/20 backdrop-blur-sm rounded-full text-white hover:bg-white/30 transition-colors duration-200 z-10"},[i(u(S),{class:"w-6 h-6"})]),t("button",{onClick:g(k,["stop"]),class:"absolute right-4 top-1/2 -translate-y-1/2 p-2 bg-white/20 backdrop-blur-sm rounded-full text-white hover:bg-white/30 transition-colors duration-200 z-10"},[i(u(q),{class:"w-6 h-6"})])],64)):c("",!0),t("div",ae,w(a.value+1)+" / "+w(n.value.length),1)])],544)):c("",!0)]))],2)}}});export{ce as _};
